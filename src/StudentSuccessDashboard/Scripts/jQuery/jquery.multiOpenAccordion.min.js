(function(n){n.widget("ui.multiOpenAccordion",{options:{active:0,showAll:null,hideAll:null,_classes:{accordion:"ui-accordion ui-widget ui-helper-reset ui-accordion-icons",h3:"ui-accordion-header ui-helper-reset ui-state-default ui-corner-all",div:"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom",divActive:"ui-accordion-content-active",span:"ui-icon ui-icon-triangle-1-e",stateDefault:"ui-state-default",stateHover:"ui-state-hover"}},_create:function(){var t=this,i=t.options,r=t.element,u=r.children("h3"),f=r.children("div");r.addClass(i._classes.accordion),u.each(function(r){var u=n(this);u.addClass(i._classes.h3).prepend('<span class="{class}"><\/span>'.replace(/{class}/,i._classes.span)),t._isActive(r)&&t._showTab(u)}),r.children("div").each(function(){var t=n(this);t.addClass(i._classes.div)}),u.bind("click",function(r){r.preventDefault();var u=n(this),f={tab:u,content:u.next("div")};t._trigger("click",null,f),u.hasClass(i._classes.stateDefault)?t._showTab(u):t._hideTab(u)}),u.bind("mouseover",function(){n(this).addClass(i._classes.stateHover)}),u.bind("mouseout",function(){n(this).removeClass(i._classes.stateHover)}),t._trigger("init",null,r)},destroy:function(){var i=this,n=i.element,r=n.children("h3"),u=n.children("div"),t=i.options;n.children("h3").unbind("click mouseover mouseout"),n.removeClass(t._classes.accordion),r.removeClass(t._classes.h3).removeClass("ui-state-default ui-corner-all ui-state-active ui-corner-top").children("span").remove(),u.removeClass(t._classes.div+" "+t._classes.divActive).show()},_showTab:function(n){var r=n.children("span.ui-icon"),t=n.next(),u=this.options,i;n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top"),r.removeClass("ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-s"),t.slideDown("fast",function(){t.addClass(u._classes.divActive)}),i={tab:n,content:n.next("div")},this._trigger("tabShown",null,i)},_hideTab:function(n){var r=n.children("span.ui-icon"),t=n.next(),u=this.options,i;n.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all"),r.removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-e"),t.slideUp("fast",function(){t.removeClass(u._classes.divActive)}),i={tab:n,content:n.next("div")},this._trigger("tabHidden",null,i)},_isActive:function(n){var t=this.options,i;if(typeof t.active!="boolean"||t.active)if(t.active.length!=undefined){for(i=0;i<t.active.length;i++)if(t.active[i]==n)return!0}else return t.active==n;else return!1;return!1},_getActiveTabs:function(){var i=this.element,t;return i.children("div").each(function(i){var r=n(this);r.is(":visible")&&(t=t?t:[],t.push({index:i,tab:r.prev("h3"),content:r}))}),t},_setActiveTabs:function(t){var i=this,r=this.element;typeof t!="undefined"&&r.children("div").each(function(r){var u=n(this).prev("h3");t.hasObject(r)?i._showTab(u):i._hideTab(u)})},_generateTabsArrayFromOptions:function(t){var u=[],e=this,f=e.element,r=f.children("h3").size(),i;if(n.type(t)==="array")return t;if(n.type(t)==="number")return[t];if(n.type(t)==="string")switch(t.toLowerCase()){case"all":for(r=f.children("h3").size(),i=0;i<r;i++)u.push(i);return u;case"none":return[-1];default:return undefined}},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);var r=this.element;switch(t){case"active":this._setActiveTabs(this._generateTabsArrayFromOptions(i))}}}),Array.prototype.hasObject=Array.indexOf?function(n){return this.indexOf(n)!==-1}:function(n){for(var t=this.length+1;t-=1;)if(this[t-1]===n)return!0;return!1}})(jQuery);